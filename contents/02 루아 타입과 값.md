# 02. 루아 타입과 값
루아는 동적 타입 지정 언어다. 입력된 데이터 타입에 대해 추론하는 기능을 가지고 있다. 루아에는 다음과 같은 8가지의 기본 데이터 타입이 있다.

- 닐(nil)
- 부울형(boolean)
- 수치(number)
- 문자열(string)
- 함수(function)
- 테이블(table)
- 사용자 데이터(userdata)
- 스레드(thread)

## 2.1 닐
전역 변수는 처음 배정 명령을 실행하기 전에 기본값으로 `nil`을 담고 있고, 전역 변수를 지우기 위해 `nil`로 초기화하기도 한다. 루아에서는 유용한 값이 없음을 나타내기 위해, 정상 값이 아니라는 뜻으로 `nil`을 사용한다.

## 2.2 부울형
기본적으로 `false`와 `true`를 가진다. 하지만 루아에서는 다음과 같이 표현할 수 있다.
- 거짓(`false` 또는 `nil`)
- 참(`true`또는 거짓에 해당하는 값을 제외한 모든 값)
    - 따라서 0과 빈 문자열("") 또한 참으로 간주한다.

## 2.3 수치
배정도 부동소수점 수치(일반적인 `double`형)를 뜻한다. 루아는 별도로 준비된 데이터 타입이 없다. 10의 14승을 넘지 않는 경우라면 부동소수의 반올림 오차가 일어나지 않는다.

## 2.4 문자열
변경이 불가능한 값이다. 그 대신에 일부 내장 함수를 이용하여 새로운 문자열을 생성할 수 있다. 8비트에 맞춰져 있고, 문자열에 모든 이진 데이터를 표현할 수 있다. 문자열을 수치로 변경하고자 한다면 tonumber함수, 그 반대의 경우엔 tostring 함수를 사용하거나 빈 문자열과 수치를 병합하면 된다.
~~~Lua
print(tostring(10) == "10") --> true
print(10 .. "" == "10")     --> true
~~~
문자열 또는 문자열 변수 앞에 `#`를 사용하여 문자열 길이를 구할 수 있다.

## 2.5 테이블

테이블 타입은 nil을 제외한 문자열 또는 언어에서 사용하는 모든 값을 색인으로 사용할 수 있는 배열인 연관 배열을 구현한 기능이다. 길이가 고정되어 있지 않고, 한 테이블에 원하는 만큼 많은 값을 개수 제한 없이 담을 수 있다. 루아에서의 배열은 1부터 시작하는 것이 보통이다.

## 2.6 함수
함수는 루아에서 일등급 값으로 여겨진다. 따라서 다음과 같은 특징을 가진다.
- 함수를 변수에 저장할 수 있다
- 다른 함수에 인수로 전달할 수 있다. (결과값으로 반환할 수도 있다는 것)
- 프로그램에 새 기능을 추가하기 위해 함수를 다시 정의할 수 있다.
- 보안 환경을 만들기 위해 특정 함수를 지울 수 있다.

루아는 루아 함수와 C로 작성된 함수를 모두 호출할 수 있다. 애플리케이션 프로그램에서 다른 함수 기능은 필요할 때마다 C로 정의하여 추가할 수 있다.

## 2.7 사용자 데이터와 스레드
- 사용자 데이터 타입은 C에서 사용하는 데이터를 루아 변수에 저장하기 위해 만들어졌다. 사용자 데이터는 애플리케이션 프로그램 또는 C로 작성된 라이브러리에서 생성한 새로운 타입을 나타내는 데 사용한다.

- 스레드는 루아 스크립트에서 현재 코루틴을 사용하여 구현되고 있다. 하지만 기본적으로 스레드와 코루틴은 서로 다른 기능이고, 병렬성을 제공하느냐와 동시성을 제공하냐의 차이를 가지고 있다.
---
출처
[프로그래밍 루아](https://search.shopping.naver.com/book/catalog/32492196601?query=%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%20%EB%A3%A8%EC%95%84&NaPm=ct%3Dlg0lm4tc%7Cci%3D4ff95860ae3926b4ecded18df1cd90c3f669c3f1%7Ctr%3Dboksl%7Csn%3D95694%7Chk%3D03a50a86d09e9d6f540477098e76363425b34610)